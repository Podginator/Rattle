// Test multiple inheritance. Hello Extends Test extends First Test
class firstTest {
    def printGoodbye() {
        print "Can you save my heavydirtysoul?"
    }
}

// Test multiple inheritance
class test extends firstTest {
	testing = "testoutter"
	// Tests whether we can have two indepent references in classes
	// With the same name (We shouldn't be able to, super->counter == this->counter)
	counter = 0

    // Test when a method is only available in
	def decrementAndGetCounter() {
	    // Tests stacking inside a method
        def decrementCounter() {
            return counter - 1
        }

        // tests writing out to a variable
        this->counter = decrementCounter()
        return counter
    }

    def operateOnCounter(x, y) {
        a = x(this->counter)
        return counter + a
    }

    // Add Two Numbers, one of which is named the same as
    // a member. This tests that we can effectively distinguish
    // between the two variables.
    def addNumbers(a, counter) {
        return a + counter
    }

    // Increment a counter by 20, overriden in hello
    // to be one.
    def incrementAndGetCounter() {
        counter = counter + 20
        return counter
    }

    // This prints something different than super->printGoodbye
    def printGoodbye() {
        print "Goodbye"
    }
}

class hello extends test {
    // Tests that we can effectively
    // define classes in classes.
	class testInnerTwo {
		name = "innertwo"
		test = {create test}
	}

	class testInnerClass {
		name = "TestInner"
	}

	name = "TR"
	date = "20/12/92"
	counter = 0
	inner = {create testInnerClass}

	class Two {
		name = "TestInner"
	}

	def getInnerClassValue() {
		return inner->name
	}

	def getOutterClassValue() {
		x = {create test}
		return x->testing
	}

	def incrementAndGetCounter() {
		def incrementCounter() {
			return counter + 1
		}
		counter = incrementCounter()
		return counter
	}

	def doOriginalIncrement() {
	    counter = super->incrementAndGetCounter()
	    return counter
	}

	def printGoodbye() {
	    print "Top Layer Goodbye!"
	}
}

i = 7
i = {create hello where name="ey!"}


mulReturnLambda = (x) -> { return x/2, x/4, x/8 }

lambdaA = (x)->{ return x * 4 }
lambdaB = (x)->{ return x * 8 }
lambdaC = (x)->{ return x * 16 }

i->incrementAndGetCounter()
lambdaD = lambdaA + lambdaB + lambdaC

a,b,c = mulReturnLambda(12)


for (d = 0; d < mulReturnLambda(12); d = d + 1) {
    print d
}